<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src = "https://code.jquery.com/jquery-3.7.1.min.js"></script>
        <link rel="stylesheet" type="text/css" href="profilePage.css"> 
        <script src="requestPageJS.js"></script>
    </head>
    <div class="container">
        <div class="row">
                <div class="col-12">
                    <!-- Page title -->
                    <div class="my-5">
                        <h3>My Profile</h3>
                        <hr>
                    </div>
                    <!-- Form START -->
                    <form class="file-upload">
                        <div class="row mb-5 gx-5">
                            <!-- Contact detail -->
                            <div class="col-xxl-8 mb-5 mb-xxl-0">
                                <div class="bg-secondary-soft px-4 py-5 rounded">
                                    <div class="row g-3">
                                        <h4 class="mb-4 mt-0">Contact detail</h4>
                                        <!-- Username -->
                                        <form action="{{ url_for('update') }}" method="post" autocomplete="off">
                                            <div class="col-md-6">
                                                <label class="form-label">Username*</label>
                                                <input type="text" name="username" placeholder="Enter Your Username" class="textbox" id="username" required></br></br>
                                            </div>
                                            <!-- Email -->
                                            <div class="col-md-6">
                                                <label for="inputEmail4" class="form-label">Email *</label>
                                                <input type="text" name="email" placeholder="Enter Your Email" class="textbox" id="email" required></br></br>
                                            </div>
                                            <!-- About me -->
                                            <div class="col-md-6">
                                                <label class="form-label">About me *</label>
                                                <input type="text" name="about me" placeholder="Enter Your Introduction" class="textbox" id="about me" required></br></br>
                                            </div>
                                        </form>  
                                    </div> <!-- Row END -->
                                </div>
                            </div>
                            <!-- Upload profile -->
                            <div class="col-xxl-4">
                                <div class="bg-secondary-soft px-4 py-5 rounded">
                                    <div class="row g-3">
                                        <h4 class="mb-4 mt-0">Choose your profile photo</h4>
                                        <div class="text-center">
                                            <!-- Image upload -->
                                            <div class="square position-relative display-2 mb-3" id="displayImage">
                                                <img class="square position-relative display-2 mb-3" src="female1.png">
                                            </div>
                                            <!-- Button -->
                                            <button type="button" onclick="displayRandomImages();">Choose Image</button>
                                            <script>
                                                function displayRandomImages() 
                                                {
                                                   //array of images with image location, height, and width
                                                   var imageArray = [
                                                   { 
                                                     //address URL of the image
                                                     src: "female1.png",
                                                     //size for the image to be display on webpage
                                                     width: "250",
                                                     height: "250"
                                                   }, 
                                                   {
                                                     src: "female2.png",
                                                     width: "250",
                                                     height: "250"
                                                   }, 
                                                   {
                                                     src: "female3.png",
                                                     width: "250",
                                                     height: "250"
                                                   }, 
                                                   {
                                                     src: "male1.png",
                                                     width: "250",
                                                     height: "250"
                                                   }, 
                                                   {
                                                     src: "male2.png",
                                                     width: "250",
                                                     height: "250"
                                                   }, 
                                                   {
                                                     src: "male3.png",
                                                     width: "250",
                                                     height: "250"
                                                   
                                                    } ];
                                                    
                                                    //find the length of the array of images
                                                    var arrayLength = imageArray.length;
                                                    var newArray = [];
                                                    for (var i = 0; i < arrayLength; i++) {
                                                        newArray[i] = new Image();
                                                        newArray[i].src = imageArray[i].src;
                                                        newArray[i].width = imageArray[i].width;
                                                        newArray[i].height = imageArray[i].height;
                                                    }
                                                   
                                                  // create random image number
                                                  function getRandomNum(min, max) 
                                                  {
                                                      // generate and return a random number for the image to be displayed 
                                                      imgNo = Math.floor(Math.random() * (max - min + 1)) + min;
                                                      return newArray[imgNo];
                                                  }  
                                                
                                                  // 0 is first image and (preBuffer.length - 1) is last image of the array
                                                  var newImage = getRandomNum(0, newArray.length - 1);
                                                 
                                                  // remove the previous images
                                                  var images = document.getElementsByTagName('img');
                                                  var l = images.length;
                                                  for (var p = 0; p < l; p++) {
                                                     images[0].parentNode.removeChild(images[0]);
                                                  }
                                                  // display the new random image  
                                                  displayImage.appendChild(newImage);
                                                }
                                                </script>
                                                
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div> <!-- Row END -->
        
                        <!-- button -->
                        <form action="{{ url_for('update') }}" method="post" autocomplete="off"></form>
                            <div class="gap-3 d-md-flex justify-content-md-end text-center">
                                <input type="submit" class="btn" value="Update" style="background-color: blue; color: white">
                            </div>
                    </form> <!-- Form END -->
                </div>
            </div>
        </div>
</html>
